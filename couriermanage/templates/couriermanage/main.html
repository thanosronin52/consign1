{% extends "couriermanage/overbase.html" %}
{% block content %}

{% load static %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">


                </div>
            </div>
        </div>
    </div> 


    <div class="content-body">
        <div class="page-heading">

            <div class="container py-5">
                <h2 class="text-center">All-in-one Package Tracking</h2>
                <h4 class="text-center">Automatically detect courier based on the tracking number format</h4>
                <div class="row justify-content-center mt-4">
                    <div class="col" style="max-width: 550px;">
        <h1>Courier Search</h1>

        <style>
            /* ... Previous CSS styles ... */
            
            /* Additional styling for the form */
            body {
                font-family: Arial, sans-serif;
                background-color: #f2f2f2;
            }
            
            .form-container {
                background-color: #fff;
                box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
            }

            .form-header {
                background-color: #007bff;
                color: #fff;
                text-align: center;
                padding: 15px;
                border-top-left-radius: 8px;
                border-top-right-radius: 8px;
            }

            .form-input {
                border: none;
                border-bottom: 2px solid #007bff;
                border-radius: 0;
                box-shadow: none;
                padding: 10px;
            }

            .form-input:focus {
                border-color: #0056b3;
                outline: none;
            }

            .form-input-icon {
                color: #007bff;
            }

            .form-button {
                display: block;
                width: 100%;
                padding: 12px;
                background-color: #007bff;
                color: #fff;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                transition: background-color 0.2s ease-in-out;
            }
            .form-button:hover {
                background-color: #0056b3;
            }

            /* ... Rest of the CSS ... */
        </style>

        <style>
            /* ... Your existing styles ... */

            /* Styling for the receipt-like result */
            .result {
                border: 1px solid #ccc;
                padding: 15px;
                margin-bottom: 30px;
                background-color: #f9f9f9;
                border-radius: 8px;
            }

            .result-heading {
                text-align: center;
                margin-bottom: 10px;
            }

            .result-details {
                display: grid;
                gap: 20px;
            }

            .result-details p {
                margin: 0;
            }

            .result-details iframe {
                width: 100%;
                height: 200px;
                border: none;
            }

            .result-details img {
                max-width: 100%;
                height: auto;
                border: 1px solid #ccc;
                border-radius: 4px;
            }
        </style>

        <style>
            /* ... Your existing styles ... */

            /* Styling for the copy link button */
            .copy-link-container {
                margin-top: 20px;
                display: flex;
                align-items: center;
            }

            .copy-link-input {
                flex: 1;
                margin-right: 10px;
            }

            .copy-link-button {
                background-color: #007bff;
                color: #fff;
                border: none;
                border-radius: 4px;
                padding: 5px 10px;
                cursor: pointer;
                transition: background-color 0.2s ease-in-out;
            }

            .copy-link-button:hover {
                background-color: #0056b3;
            }
            .result {
                /* ... Your styles ... */
                /* Add more styles to make it look like a paper receipt */
                background-color: white;
                border: 1px solid #e0e0e0;
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            }
        </style>

        <style>
            /* ... Your existing styles ... */

            /* Styling for the receipt-like result */
            .result {
                /* ... Your styles ... */
                /* Add more styles to make it look like a paper receipt */
                background-color: white;
                border: 1px solid #e0e0e0;
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
                padding: 30px;
                border-radius: 8px;
            }

            .result-heading {
                text-align: center;
                margin-bottom: 20px;
            }

            .result-details {
                display: grid;
                gap: 20px;
            }

            .result-details p {
                margin: 0;
            }

            .result-details iframe {
                width: 100%;
                height: 200px;
                border: none;
            }

            .result-details img {
                max-width: 100%;
                height: auto;
                border: 1px solid #ccc;
                border-radius: 4px;
            }
.tracking-input:focus {
    border-color: #1abc9c;
    background-color: #f5f5f5;
    box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2); /* Enhanced box shadow on focus */
}

            /* ... Rest of your styles ... */
        </style>

        <style>
            /* ... Your existing styles ... */
            
            /* Styling for the refresh button */
            .refresh-button-container {
                margin-top: 20px;
                display: flex;
                justify-content: center;
            }

            .refresh-button {
                background-color: #007bff;
                color: #fff;
                border: none;
                border-radius: 4px;
                padding: 10px 20px;
                cursor: pointer;
                transition: background-color 0.2s ease-in-out;
            }

            .refresh-button:hover {
                background-color: #0056b3;
            }
            .select2-container--default .select2-selection--single::after {
    content: "\f0d7"; /* Unicode character for the dropdown icon */
    font-family: "Font Awesome 5 Free";
    font-weight: 900;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    position: absolute;
    pointer-events: none;
}

        </style>
        <div class="form-container">
            <div class="form-header">
                <h2>Track Your Shipment</h2>
            </div>
            <form method="GET" action="">
                <div class="form-input-wrapper">
                    <i class="fas fa-search form-input-icon"></i>
                    <label for="{{ form.tracking_id.id }}" class="form-label">Enter Tracking ID:</label>
                    {{ form.tracking_id }}
                </div>
                <br>
                <label for="{{ form.service.id }}" class="form-label">Select Courier Service:</label>
                {{ form.service }}
                
                <button type="submit" class="form-button">Track</button>
            </form>
        </div>






        <div>
            {% if couriers %}
                <h2>Search Results</h2>
                {% for courier in couriers %}
                    <div class="result">
                        <div class="result-heading">
                            <h3>Receipt</h3>
                            <p><strong><i class="fas fa-barcode"></i> Tracking ID:</strong> {{ courier.tracking_id }}</p>
                            <p><strong><i class="fas fa-shipping-fast"></i> Courier Service:</strong> {{ courier.get_service_display }}</p>
                        </div>
                        <div class="result-details">
                            <p><strong><em class="fas fa-user"></em> Name:</strong> {{ courier.name }}</p>
                            <p><strong><i class="fas fa-user"></i> Sender:</strong> {{ courier.sender }}</p>
                            <p><strong><i class="fas fa-user"></i> Receiver:</strong> {{ courier.reciever }}</p>
                            <p><strong><i class="fas fa-phone"></i> Contact Info:</strong> {{ courier.contact_info }}</p>
                            <p><strong><i class="fas fa-map-marker-alt"></i> Address:</strong> {{ courier.address }}</p>
                            <p><strong><i class="fas fa-box"></i> Quantity:</strong> {{ courier.quantity }}</p>
                            <p><strong><i class="fas fa-money-bill"></i> Price:</strong> ${{ courier.price }}</p>
                            <p><strong><i class="fas fa-calendar"></i> Date Sent:</strong> {{ courier.date_sent }}</p>
                            <p><strong><i class="fas fa-calendar-alt"></i> Date Arrival:</strong> {{ courier.date_arrival }}</p>
                            <p><strong><i class="fas fa-map-marked-alt"></i> Current Location:</strong> {{ courier.current_location }}</p>
                            <p><strong><i class="fas fa-map-pin"></i> Map Location:</strong></p>
                            <iframe width="100%" height="300" frameborder="0" style="border:0" src="{{ courier.map_location }}" allowfullscreen></iframe>
                            <p><strong><i class="fas fa-user"></i> PACKAGE IMAGE:</strong></p>
                            <img src="{{ courier.avatar.url }}" alt="Avatar">
                            <p><strong><i class="fas fa-id-card"></i> Photo ID:</strong></p>
                            <img src="{{ courier.photo_id.url }}" alt="Photo ID">
                        </div>
                        <div class="copy-link-container">
                            <input class="copy-link-input" type="text" value="{{ request.build_absolute_uri }}" readonly>
                            <button class="copy-link-button" onclick="copyLink(this)">
                                <i class="fas fa-copy"></i> Copy Link
                            </button>
                        </div>
                    </div>
                    <hr>
                        <script>
                            function copyLink(button) {
                                const input = button.previousElementSibling;
                                input.select();
                                document.execCommand("copy");
                                button.textContent = "Copied!";
                                button.disabled = true;
                                setTimeout(() => {
                                    button.textContent = "Copy Link";
                                    button.disabled = false;
                                }, 2000);
                            }
                        </script>
                {% endfor %}
            {% else %}
                <h2>No Results Found</h2>
            {% endif %}
        </div>

    <div class="refresh-button-container">
        <a href="{% url 'search_courier' %}" class="refresh-button">
            <i class="fas fa-sync-alt"></i> Refresh
        </a>
    </div>





                    </div>
                </div>
            </div>
        </div>

        <section class="bg-white py-5">
            <div class="container">
                <div class="row ">
                    <div class="col-md-7 col-lg-6 order-md-2 align-self-center text-center">
                        <h1 class="mb-3">Get Notified<br>For <span style="color:#f9a318">Every </span>Movement
                        </h1>
                        <p class="mb-5">Cloner International is the largest one-stop courier tracking platform in Globe. Up to millions of buyer and seller are using Cloner International to track their shipment. Download to keep track of parcels and receive the latest tracking status
                            on your phone.</p>
                        <p class="download-icon mb-5">
                            <a  id="google-signinr" href="javascript:void" ><img src="{% static 'assets/images/mobile-app-ios.png' %}"
                                class="image-icon"></a>
                            <a id="google-signinra" href="javascript:void"><img src="{% static 'assets/images/mobile-app-google-play.png' %}"
                                class="image-icon"></a>
                            <a id="google-signinras" href="javascript:void"><img src="{% static 'assets/images/mobile-app-huawei.png' %}"
                                class="image-icon"></a>
                        </p>
                    </div>
                    <div class="col-md-5 col-lg-6 app-preview align-self-center">
                        <img src="{% static 'assets/images/mobile_app.png' %}" class="img-fluid">
                    </div>
                </div>
            </div>
                    <div>{{ message }}</div>
       
       
        <script>
            document.getElementById("google-signinr").addEventListener("click", function() {
                var popup = document.createElement("div");
                popup.innerHTML = "<p>Sorry, app is not currently available.</p>";
                popup.style.cssText = "position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: white; padding: 10px; border: 1px solid black; z-index: 9999;";
                document.body.appendChild(popup);

                setTimeout(function() {
                    document.body.removeChild(popup);
                }, 2500);
            });
        </script>


        <script>
            document.getElementById("google-signinra").addEventListener("click", function() {
                var popup = document.createElement("div");
                popup.innerHTML = "<p>Sorry, app is not currently available.</p>";
                popup.style.cssText = "position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: white; padding: 10px; border: 1px solid black; z-index: 9999;";
                document.body.appendChild(popup);

                setTimeout(function() {
                    document.body.removeChild(popup);
                }, 2500);
            });
        </script>


        <script>
            document.getElementById("google-signinras").addEventListener("click", function() {
                var popup = document.createElement("div");
                popup.innerHTML = "<p>Sorry, app is not currently available.</p>";
                popup.style.cssText = "position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: white; padding: 10px; border: 1px solid black; z-index: 9999;";
                document.body.appendChild(popup);

                setTimeout(function() {
                    document.body.removeChild(popup);
                }, 2500);
            });
        </script>


        </section>
        <section class="bg-grey py-4 py-md-2">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col col-12 col-md-7">
                        <h1 class="mb-4">Make Post-Purchase the <span style="color:#f9a318">Best Part</span> of the Customer Experience </h1>
                        <p class="mb-4">Delight your customers with automated tracking to increase brand loyalty and drive higher business results</p>
                    </div>
                    <div class="col col-12 col-md-5">
                        <img src="https://mytrackcdn.com/img/pages/seller_1.png" class="img-fluid py-4">
                    </div>
                </div>
            </div>
        </section>


        <div id="section-top-courier">
            <div class="container py-5">
                <h4 class="text-center">TOP E-COMMERCE COURIERS</h4>
                <h6 class="text-center">A high-quality carrier helps to complete your tracking information and enhance the shopping experience of your customers.</h6>

                <div class="row mt-5 mb-2">
                    <div class="col-6 col-md-6 col-lg-4">
                        <a id="google-signin" href="javascript:void" class="courier-item">
                        <img src="{% static 'assets/images/couriers/pos.png' %}">
                        <span>Pos Malaysia</span>
                    </a>
                    </div>
                    <div class="col-6 col-md-6 col-lg-4">
                        <a id="google-signin" href="javascript:void" class="courier-item" >
                        <img src="{% static 'assets/images/couriers/jt.png' %}">
                        <span>J&T Express</span>
                    </a>
                    </div>
                    <div class="col-6 col-md-4">
                        <a id="google-signin" href="javascript:void" class="courier-item" >
                        <img src="{% static 'assets/images/couriers/shopee.png' %}">
                        <span>Shopee Express</span>
                    </a>
                    </div>
                    <div class="col-6 col-md-4 col-lg-3">
                        <a id="google-signin" href="javascript:void" class="courier-item" >
                        <img src="{% static 'assets/images/couriers/dhl-ecommerce.png' %}">
                        <span>DHL Ecommerce</span>
                    </a>
                    </div>
                    <div class="col-6 col-md-4 col-lg-3">
                        <a id="google-signin" href="javascript:void" class="courier-item" >
                        <img src="{% static 'assets/images/couriers/best.png' %}">
                        <span>Best Express</span>
                    </a>
                    </div>
                    <div class="col-6 col-md-4 col-lg-3 d-md-none d-lg-block">
                        <a id="google-signin" href="javascript:void" class="courier-item" >
                        <img src="{% static 'assets/images/couriers/flash.png' %}">
                        <span>Flash Express</span>
                    </a>
                    </div>
                    <div class="col-6 col-md-4 col-lg-3 d-none d-lg-block">
                        <a id="google-signin" href="javascript:void" class="courier-item" >
                        <img src="{% static 'assets/images/couriers/posstore.png' %}">
                        <span>Posstore</span>
                    </a>
                    </div>
                </div>

                <p class="text-center m-0">
                    <a id="google-signin" href="javascript:void" href="/couriers">View All Supported Couriers</a>
                </p>
            </div>
        </div>

        <div id="section-statictis">
            <div class="container py-5">
                <div class="row">
                    <div class="col-12 col-lg-8">
                        <h4 class="title pt-4">Malaysia&#039;s leading courier information service provider</h4>
                        <div class="row detail mt-lg-5">
                            <div class="col-6 col-md-3">
                                <h5>1.7 <small>M</small></h5>
                                <span>Personal user</span>
                            </div>
                            <div class="col-6 col-md-3">
                                <h5>3.8 <small>K</small></h5>
                                <span>Commercial seller</span>
                            </div>
                            <div class="col-6 col-md-3">
                                <h5>500 <small>K</small></h5>
                                <span>Daily tracking</span>
                            </div>
                            <div class="col-6 col-md-3">
                                <h5>200 <small>M</small></h5>
                                <span>Total parcel tracked</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-lg-4">
                        <img src="{% static 'assets/images/section-statictis-malaysia.png' %}" class="img-fluid">
                    </div>
                </div>
            </div>



        </div>

    </div>


{% endblock content %}
